{% extends "lecturers/base.html" %}
{% load i18n %}
{% load bootstrap3 %}

{# Panel header #}

{% block panel_heading %}
<div class="row">
    <div class="col-sm-12 col-xs-12">
        <h3 class="panel-title" style="padding-top: 8px; padding-bottom: 8px;">{% trans "My teams" %}</h3>
    </div>
</div>
{% endblock %}

{# Panel content (non-bordered table within this block will have seamless design with the panel) #}

{% block panel_content %}
    <form id="team_delete_form" action="{% url 'lecturers:team_delete' %}" method="post">
        {% csrf_token %}
        <table class="table table-striped">
            <tr>
                <th>{% trans "Delete" %}</th>
                <th>{% trans "Members" %}</th>
                <th>{% trans "Project preference" %}</th>
                <th>{% trans "Assigned" %}</th>
            </tr>
            {% for team in teams %}
                <tr>
                    <td>
                        <input type="checkbox" name="to_delete" id="{{ team.pk }}"
                                value="{{ team.pk }}"/>
                    </td>
                    <td>
                        {% for stud in team.team_members %}
                            <a href="mailto:{{ stud.user.email }}">{{ stud }}</a><br>
                        {% endfor %}
                    </td>
                    <td>
                        <a href="{% url 'lecturers:project' selectedCourse.code team.project_preference.pk %}">
                        {{ team.project_preference.title }}</a>
                    </td>
                    <td>{% if team.is_locked %} {% trans "Yes" %} {% else %} {% trans "No" %} {% endif %}</td>

                </tr>
            {% endfor %}
        </table>
    </form>
{% endblock %}

{# Panel footer #}

{% block panel_footer %}
    <button type="submit" title="{% trans "Delete selected teams" %}" class="btn btn-default" form="team_delete_form">
        {% bootstrap_icon "remove" %} {% trans "Delete" %}
    </button>
{% endblock %}
